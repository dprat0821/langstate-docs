---
title: "What's State-Updater-Presenter?"
description: "The \"MVC\" Pattern for AI Agent Applications"
---

AI agent projects often struggle with maintaining clarity, modularity, and evaluability as they grow in complexity. Many of these systems aim not for open-ended conversation but for the **co‑construction of structured artifacts** — such as registration records, project plans, or analytical summaries — that have clear form and meaning.

Recognizing this intent reveals a **design pattern** where conversations revolve around a central, evolving artifact — the _artifact state_. Similar to the **MVC** pattern in conventional software, SUP separates reasoning, state management, and presentation to achieve higher levels of **modularity, testability, replaceability, observability, and portability**. By formalizing this structure, teams can design and evaluate language‑model systems with improved **granularity, efficiency, transparency, and cost‑effectiveness**.

![image.png](/images/sup-architecture.png)

---

The **State–Updater–Presenter (SUP)** pattern divides a conversational or agentic system into three functional parts:

1. **State** – the structured artifact that represents the evolving context or goal.
2. **Updater** – the component responsible for interpreting user inputs, tool results, and updating the state.
3. **Presenter** – the component that interprets the current state and produces user-facing messages or UI renderings.

This separation provides a foundation similar to the conventional MVC model while adapting to the conversational and reasoning needs of language-model-based systems.

**SUP** follows a separation of concerns that closely mirrors the **MVC** pattern in conventional software design. Conversations are organized around a central, evolving **artifact state** (the “Model”), with distinct components for mutation logic (the “Controller”) and user-facing rendering (the “View”).

### Schema‑First “Model”: Artifact State

- Define the artifact state **schema first** (fields, types, constraints, dependencies).
- Treat it as the single source of truth for validation, defaults, and invariants.
- Design for **DAG dependencies** among fields so partial progress can unlock subsequent fields.

### “Controller”: Updater

- Interprets user input and tool results; **applies state mutations** only.
- Encodes business rules and validations; emits **deterministic state diffs**.
- Produces **no user‑facing text**; focuses purely on correct state evolution.

### “View”: Presenter

- Interprets the current artifact state (and optionally history).
- Generates **natural‑language responses** or **UI views**; style and tone are independent of logic.
- Aims to be **schema‑agnostic**, enabling reuse across artifacts, projects, agents, and applications.

### SUP ↔ MVC Mapping

| SUP Component      | MVC Analogy    | Responsibility                                                           |
| ------------------ | -------------- | ------------------------------------------------------------------------ |
| **Artifact State** | **Model**      | Structured data, constraints, dependencies, source of truth              |
| **Updater**        | **Controller** | Interprets intents, enforces rules, applies mutations, emits state diffs |
| **Presenter**      | **View**       | Renders state to text or UI; controls tone, format, and UX               |